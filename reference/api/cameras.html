<!doctype html>
<html class="no-js"  lang="en" >

<head><meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

<meta property="og:title" content="Cameras" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="http://docs.nerf.studio/reference/api/cameras.html" />
  
<meta property="og:description" content="Cameras: Camera Models Camera Optimizers: Pose and Intrinsics Optimizers Camera Paths: Code for camera paths. Camera Utils: Camera transformation helper code. Lie Groups: Helper for Lie group opera..." />
  
<meta property="og:image" content="https://assets.nerf.studio/opg.png" />
  
<meta property="og:image:alt" content="Cameras" />
  <link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Configs" href="config.html" /><link rel="prev" title="API" href="index.html" />

    <meta name="generator" content="sphinx-5.2.1, furo 2022.09.29" />
    <title>Cameras - nerfstudio</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f9fb;
  --color-code-foreground: black;
  --color-brand-primary: #d34600;
  --color-brand-content: #ff6f00;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #fdd06c;
  --color-brand-content: ##fea96a;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #fdd06c;
  --color-brand-content: ##fea96a;
  
      }
    }
  }
</style><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/require.min.js"></script>
    <script src="../../_static/custom.js"></script>
    </head>

<body>
    
    <script>
        document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">nerfstudio</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a
  class="sidebar-brand"
  href="../../index.html"
>
  
  <div class="sidebar-logo-container">
    <img
      class="sidebar-logo only-light"
      src="../../_static/imgs/logo.png"
      alt="Light Logo"
    />
    <img
      class="sidebar-logo only-dark"
      src="../../_static/imgs/logo-dark.png"
      alt="Dark Logo"
    />
  </div>
</a>

<div style="text-align: center">
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Place this tag where you want the button to render. -->
  <a
    class="github-button"
    href="https://github.com/nerfstudio-project/nerfstudio/"
    data-color-scheme="no-preference: light; light: light; dark: light;"
    data-size="large"
    data-show-count="true"
    aria-label="Download buttons/github-buttons on GitHub"
  >
    Github
  </a>
  <br />
  <a
    href="https://colab.research.google.com/github/nerfstudio-project/nerfstudio/blob/main/colab/demo.ipynb"
    style="
      background-color: #ebf0f4;
      background-image: linear-gradient(180deg, #f6f8fa, #ebf0f4 90%);
      border-radius: 3px;
      border: 1px solid #1b1f2426;
      display: inline-flex;
      cursor: pointer;
      color: #0d0d0d;
      font-family: Arial;
      font-size: 12px;
      font-weight: bold;
      padding: 5px 41px;
      line-height: 16px;
      text-decoration: none;
    "
  >
    <svg
      viewBox="0 0 24 24"
      width="16"
      height="16"
      class="octicon octicon-mark-github"
    >
      <g>
        <path
          d="M4.54,9.46,2.19,7.1a6.93,6.93,0,0,0,0,9.79l2.36-2.36A3.59,3.59,0,0,1,4.54,9.46Z"
          style=""
          fill="#E8710A"
        ></path>
        <path
          d="M2.19,7.1,4.54,9.46a3.59,3.59,0,0,1,5.08,0l1.71-2.93h0l-.1-.08h0A6.93,6.93,0,0,0,2.19,7.1Z"
          style=""
          fill="#F9AB00"
        ></path>
        <path
          d="M11.34,17.46h0L9.62,14.54a3.59,3.59,0,0,1-5.08,0L2.19,16.9a6.93,6.93,0,0,0,9,.65l.11-.09"
          style=""
          fill="#F9AB00"
        ></path>
        <path
          d="M12,7.1a6.93,6.93,0,0,0,0,9.79l2.36-2.36a3.59,3.59,0,1,1,5.08-5.08L21.81,7.1A6.93,6.93,0,0,0,12,7.1Z"
          style=""
          fill="#F9AB00"
        ></path>
        <path
          d="M21.81,7.1,19.46,9.46a3.59,3.59,0,0,1-5.08,5.08L12,16.9A6.93,6.93,0,0,0,21.81,7.1Z"
          style=""
          fill="#E8710A"
        ></path>
      </g>
    </svg>
    <span>&nbspcolab</span></a
  >
</div><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/first_nerf.html">Training your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/existing_dataset.html">Using existing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/custom_dataset.html">Using custom data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/viewer_quickstart.html">Using the viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/export_geometry.html">Export geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/data_conventions.html">Data conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extensions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../extensions/blender_addon.html">Blender VFX add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions/maya_plugin.html">Autodesk Maya Plug-in</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions/unreal_engine.html">Exporting to Unreal Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions/sdfstudio.html">SDFStudio</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NeRFology</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../nerfology/methods/index.html">Methods</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/instant_ngp.html">    Instant-NGP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/splat.html">    Splatfacto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/splatw.html">    Splatfacto-W</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/in2n.html">    Instruct-NeRF2NeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/igs2gs.html">    Instruct-GS2GS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/signerf.html">    SIGNeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/kplanes.html">    K-Planes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/lerf.html">    LERF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/livescene.html">    LiveScene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/feature_splatting.html">    Feature-Splatting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/mipnerf.html">    Mip-NeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/nerf.html">    NeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/nerfacto.html">    Nerfacto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/nerfbusters.html">    Nerfbusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/nerfplayer.html">    NeRFPlayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/tetranerf.html">    Tetra-NeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/tensorf.html">    TensoRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/generfacto.html">    Generfacto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/pynerf.html">    PyNeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/seathru_nerf.html">    SeaThru-NeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/zipnerf.html">    Zip-NeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/bionerf.html">    BioNeRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/nerf2gs2nerf.html">    NeRFtoGSandBack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/methods/opennerf.html">    OpenNeRF</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../nerfology/model_components/index.html">Model components</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/model_components/visualize_cameras.html">    Cameras models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/model_components/visualize_samples.html">    Sample representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/model_components/visualize_samplers.html">    Ray samplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/model_components/visualize_spatial_distortions.html">    Spatial distortions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nerfology/model_components/visualize_encoders.html">    Encoders</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guides/new_methods.html">Adding a New Method</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developer_guides/pipelines/index.html">Pipelines overview</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../developer_guides/pipelines/dataparsers.html">DataParsers</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="data/dataparsers.html">Data Parsers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/pipelines/datamanagers.html">DataManagers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/pipelines/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/pipelines/fields.html">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/pipelines/pipelines.html">Pipelines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developer_guides/viewer/index.html">Viewer</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/viewer/custom_gui.html">Custom GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/viewer/viewer_control.html">Python Viewer Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/viewer/local_viewer.html">(Legacy Viewer) Local Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guides/config.html">Customizable configs</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developer_guides/debugging_tools/index.html">Debugging tools</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/debugging_tools/local_logger.html">Local writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/debugging_tools/profiling.html">Code profiling support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/debugging_tools/benchmarking.html">Benchmarking workflow</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../cli/index.html">CLI</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_install_cli.html">ns-install-cli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_process_data.html">ns-process-data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_download_data.html">ns-download-data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_train.html">ns-train</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_render.html">ns-render</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_viewer.html">ns-viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_export.html">ns-export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/ns_eval.html">ns-eval</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Configs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="data/index.html">Data</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="data/dataparsers.html">Data Parsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="data/datamanagers.html">Datamanagers</a></li>
<li class="toctree-l3"><a class="reference internal" href="data/datasets.html">Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="data/utils.html">Utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fields.html">Fields</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="field_components/index.html">Field Modules</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="field_components/encodings.html">Encodings</a></li>
<li class="toctree-l3"><a class="reference internal" href="field_components/embeddings.html">Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="field_components/field_heads.html">Field Heads</a></li>
<li class="toctree-l3"><a class="reference internal" href="field_components/mlp.html">MLP</a></li>
<li class="toctree-l3"><a class="reference internal" href="field_components/spatial_distortions.html">Spatial Distortions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="model_components/index.html">Model components</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="model_components/ray_sampler.html">Ray Sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_components/losses.html">Losses</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_components/renderers.html">Renderers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="optimizers.html">Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="utils/index.html">Utils</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="utils/colors.html">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils/math.html">Math</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils/colormaps.html">Colormaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils/tensor_dataclass.html">TensorDataclass</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="viewer.html">Viewer</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="cameras">
<span id="id1"></span><h1>Cameras<a class="headerlink" href="#cameras" title="Permalink to this heading">#</a></h1>
<section id="id2">
<h2>Cameras<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<p>Camera Models</p>
<span class="target" id="module-nerfstudio.cameras.cameras"></span><dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.CameraType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.cameras.</span></span><span class="sig-name descname"><span class="pre">CameraType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#CameraType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.CameraType" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Supported camera types.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.cameras.</span></span><span class="sig-name descname"><span class="pre">Cameras</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_to_worlds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_c2ws</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_fxs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_fys</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_cxs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_cys</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_ws</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_hs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distortion_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_dist_params</span> <span class="pre">6'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch_cam_types</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#nerfstudio.cameras.cameras.CameraType" title="nerfstudio.cameras.cameras.CameraType"><span class="pre">CameraType</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#nerfstudio.cameras.cameras.CameraType" title="nerfstudio.cameras.cameras.CameraType"><span class="pre">CameraType</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">CameraType.PERSPECTIVE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_cameras'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="utils/tensor_dataclass.html#nerfstudio.utils.tensor_dataclass.TensorDataclass" title="nerfstudio.utils.tensor_dataclass.TensorDataclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorDataclass</span></code></a></p>
<p>Dataparser outputs for the image dataset and the ray generator.</p>
<p>If a single value is provided, it is broadcasted to all cameras.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>camera_to_worlds</strong> – Camera to world matrices. Tensor of per-image c2w matrices, in [R | t] format</p></li>
<li><p><strong>fx</strong> – Focal length x</p></li>
<li><p><strong>fy</strong> – Focal length y</p></li>
<li><p><strong>cx</strong> – Principal point x</p></li>
<li><p><strong>cy</strong> – Principal point y</p></li>
<li><p><strong>width</strong> – Image width</p></li>
<li><p><strong>height</strong> – Image height</p></li>
<li><p><strong>distortion_params</strong> – distortion coefficients (OpenCV 6 radial or 6-2-4 radial, tangential, thin-prism for Fisheye624)</p></li>
<li><p><strong>camera_type</strong> – Type of camera model. This will be an int corresponding to the CameraType enum.</p></li>
<li><p><strong>times</strong> – Timestamps for each camera</p></li>
<li><p><strong>metadata</strong> – Additional metadata or data needed for interpolation, will mimic shape of the cameras
and will be broadcasted to the rays generated from any derivative RaySamples we create with this</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.device">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">device</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.device" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the device that the camera is on.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.generate_rays">
<span class="sig-name descname"><span class="pre">generate_rays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_rays</span> <span class="pre">num_cameras_batch_dims'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_rays</span> <span class="pre">2'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_opt_to_camera</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_rays</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distortion_params_delta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_rays</span> <span class="pre">6'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_distortion</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aabb_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="data/index.html#nerfstudio.data.scene_box.SceneBox" title="nerfstudio.data.scene_box.SceneBox"><span class="pre">SceneBox</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obb_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="data/index.html#nerfstudio.data.scene_box.OrientedBox" title="nerfstudio.data.scene_box.OrientedBox"><span class="pre">OrientedBox</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle" title="nerfstudio.cameras.rays.RayBundle"><span class="pre">RayBundle</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras.generate_rays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.generate_rays" title="Permalink to this definition">#</a></dt>
<dd><p>Generates rays for the given camera indices.</p>
<p>This function will standardize the input arguments and then call the _generate_rays_from_coords function
to generate the rays. Our goal is to parse the arguments and then get them into the right shape:</p>
<ul class="simple">
<li><p>camera_indices: (num_rays:…, num_cameras_batch_dims)</p></li>
<li><p>coords: (num_rays:…, 2)</p></li>
<li><p>camera_opt_to_camera: (num_rays:…, 3, 4) or None</p></li>
<li><p>distortion_params_delta: (num_rays:…, 6) or None</p></li>
</ul>
<p>Read the docstring for _generate_rays_from_coords for more information on how we generate the rays
after we have standardized the arguments.</p>
<p>We are only concerned about different combinations of camera_indices and coords matrices, and the following
are the 4 cases we have to deal with:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>isinstance(camera_indices, int) and coords == None</dt><dd><ul class="simple">
<li><p>In this case we broadcast our camera_indices / coords shape (h, w, 1 / 2 respectively)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>isinstance(camera_indices, int) and coords != None</dt><dd><ul class="simple">
<li><p>In this case, we broadcast camera_indices to the same batch dim as coords</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>not isinstance(camera_indices, int) and coords == None</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>In this case, we will need to set coords so that it is of shape (h, w, num_rays, 2), and broadcast</dt><dd><p>all our other args to match the new definition of num_rays := (h, w) + num_rays</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>not isinstance(camera_indices, int) and coords != None</dt><dd><ul class="simple">
<li><p>In this case, we have nothing to do, only check that the arguments are of the correct shape</p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>There is one more edge case we need to be careful with: when we have “jagged cameras” (ie: different heights
and widths for each camera). This isn’t problematic when we specify coords, since coords is already a tensor.
When coords == None (ie: when we render out the whole image associated with this camera), we run into problems
since there’s no way to stack each coordinate map as all coordinate maps are all different shapes. In this case,
we will need to flatten each individual coordinate map and concatenate them, giving us only one batch dimension,
regardless of the number of prepended extra batch dimensions in the camera_indices tensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>camera_indices</strong> – Camera indices of the flattened cameras object to generate rays for.</p></li>
<li><p><strong>coords</strong> – Coordinates of the pixels to generate rays for. If None, the full image will be rendered.</p></li>
<li><p><strong>camera_opt_to_camera</strong> – Optional transform for the camera to world matrices.</p></li>
<li><p><strong>distortion_params_delta</strong> – Optional delta for the distortion parameters.</p></li>
<li><p><strong>keep_shape</strong> – If None, then we default to the regular behavior of flattening if cameras is jagged, otherwise
keeping dimensions. If False, we flatten at the end. If True, then we keep the shape of the
camera_indices and coords tensors (if we can).</p></li>
<li><p><strong>disable_distortion</strong> – If True, disables distortion.</p></li>
<li><p><strong>aabb_box</strong> – if not None will calculate nears and fars of the ray according to aabb box intersection</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Rays for the given camera indices and coords.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.get_image_coords">
<span class="sig-name descname"><span class="pre">get_image_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pixel_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'height</span> <span class="pre">width</span> <span class="pre">2'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras.get_image_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.get_image_coords" title="Permalink to this definition">#</a></dt>
<dd><p>This gets the image coordinates of one of the cameras in this object.</p>
<p>If no index is specified, it will return the maximum possible sized height / width image coordinate map,
by looking at the maximum height and width of all the cameras in this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pixel_offset</strong> – Offset for each pixel. Defaults to center of pixel (0.5)</p></li>
<li><p><strong>index</strong> – Tuple of indices into the batch dimensions of the camera. Defaults to None, which returns the 0th
flattened camera</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Grid of image coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.get_intrinsics_matrices">
<span class="sig-name descname"><span class="pre">get_intrinsics_matrices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_cameras</span> <span class="pre">3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras.get_intrinsics_matrices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.get_intrinsics_matrices" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the intrinsic matrices for each camera.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pinhole camera intrinsics matrices</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.image_height">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_cameras</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.image_height" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the height of the images.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.image_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_cameras</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.image_width" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the height of the images.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.is_jagged">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_jagged</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.is_jagged" title="Permalink to this definition">#</a></dt>
<dd><p>Returns whether or not the cameras are “jagged” (i.e. the height and widths are different, meaning that
you cannot concatenate the image coordinate maps together)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.rescale_output_resolution">
<span class="sig-name descname"><span class="pre">rescale_output_resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scaling_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_cameras'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_cameras</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_rounding_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'floor'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras.rescale_output_resolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.rescale_output_resolution" title="Permalink to this definition">#</a></dt>
<dd><p>Rescale the output resolution of the cameras.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scaling_factor</strong> – Scaling factor to apply to the output resolution.</p></li>
<li><p><strong>scale_rounding_mode</strong> – round down or round up when calculating the scaled image height and width</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'height</span> <span class="pre">width</span> <span class="pre">2'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.to_json" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a camera to a json dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>camera_idx</strong> – Index of the camera to convert.</p></li>
<li><p><strong>image</strong> – An image in range [0, 1] that is encoded to a base64 string.</p></li>
<li><p><strong>max_size</strong> – Max size to resize the image to if present.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A JSON representation of the camera</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.cameras.Cameras.update_tiling_intrinsics">
<span class="sig-name descname"><span class="pre">update_tiling_intrinsics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tiling_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/cameras.html#Cameras.update_tiling_intrinsics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.cameras.Cameras.update_tiling_intrinsics" title="Permalink to this definition">#</a></dt>
<dd><p>Update camera intrinsics based on tiling_factor.
Must match tiling logic as defined in dataparser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tiling_factor</strong> – Tiling factor to apply to the camera intrinsics.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="camera-optimizers">
<h2>Camera Optimizers<a class="headerlink" href="#camera-optimizers" title="Permalink to this heading">#</a></h2>
<p>Pose and Intrinsics Optimizers</p>
<span class="target" id="module-nerfstudio.cameras.camera_optimizers"></span><dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_optimizers.</span></span><span class="sig-name descname"><span class="pre">CameraOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig" title="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig"><span class="pre">CameraOptimizerConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cameras</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">device</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_trainable_camera_indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_non_trainable_cameras'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></p>
<p>Layer that modifies camera poses to be optimized as well as the field during training.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.apply_to_camera">
<span class="sig-name descname"><span class="pre">apply_to_camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras" title="nerfstudio.cameras.cameras.Cameras"><span class="pre">Cameras</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.apply_to_camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.apply_to_camera" title="Permalink to this definition">#</a></dt>
<dd><p>Apply the pose correction to the world-to-camera matrix in a Camera object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.apply_to_raybundle">
<span class="sig-name descname"><span class="pre">apply_to_raybundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raybundle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle" title="nerfstudio.cameras.rays.RayBundle"><span class="pre">RayBundle</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.apply_to_raybundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.apply_to_raybundle" title="Permalink to this definition">#</a></dt>
<dd><p>Apply the pose correction to the raybundle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'camera_indices'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'camera_indices</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.forward"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.forward" title="Permalink to this definition">#</a></dt>
<dd><p>Indexing into camera adjustments.
:param indices: indices of Cameras to optimize.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Transformation matrices from optimized camera coordinates
to given camera coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_correction_matrices">
<span class="sig-name descname"><span class="pre">get_correction_matrices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.get_correction_matrices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_correction_matrices" title="Permalink to this definition">#</a></dt>
<dd><p>Get optimized pose correction matrices</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_loss_dict">
<span class="sig-name descname"><span class="pre">get_loss_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.get_loss_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_loss_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Add regularization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_metrics_dict">
<span class="sig-name descname"><span class="pre">get_metrics_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.get_metrics_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_metrics_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Get camera optimizer metrics</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_param_groups">
<span class="sig-name descname"><span class="pre">get_param_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizer.get_param_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_param_groups" title="Permalink to this definition">#</a></dt>
<dd><p>Get camera optimizer parameters</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_optimizers.</span></span><span class="sig-name descname"><span class="pre">CameraOptimizerConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_target:</span> <span class="pre">~typing.Type</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode:</span> <span class="pre">~typing.Literal['off'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'SO3xR3'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'SE3']</span> <span class="pre">=</span> <span class="pre">'off'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans_l2_penalty:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot_l2_penalty:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer:</span> <span class="pre">~typing.Optional[~nerfstudio.engine.optimizers.OptimizerConfig]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler:</span> <span class="pre">~typing.Optional[~nerfstudio.engine.schedulers.SchedulerConfig]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_optimizers.html#CameraOptimizerConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="config.html#nerfstudio.configs.base_config.InstantiateConfig" title="nerfstudio.configs.base_config.InstantiateConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstantiateConfig</span></code></a></p>
<p>Configuration of optimization for camera poses.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'off'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SO3xR3'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SE3'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'off'</span></em><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.mode" title="Permalink to this definition">#</a></dt>
<dd><p>Pose optimization strategy to use. If enabled, we recommend SO3xR3.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.optimizer">
<span class="sig-name descname"><span class="pre">optimizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="optimizers.html#nerfstudio.engine.optimizers.OptimizerConfig" title="nerfstudio.engine.optimizers.OptimizerConfig"><span class="pre">OptimizerConfig</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.optimizer" title="Permalink to this definition">#</a></dt>
<dd><p>Deprecated, now specified inside the optimizers dict</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.rot_l2_penalty">
<span class="sig-name descname"><span class="pre">rot_l2_penalty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.001</span></em><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.rot_l2_penalty" title="Permalink to this definition">#</a></dt>
<dd><p>L2 penalty on rotation parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.scheduler">
<span class="sig-name descname"><span class="pre">scheduler</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="optimizers.html#nerfstudio.engine.schedulers.SchedulerConfig" title="nerfstudio.engine.schedulers.SchedulerConfig"><span class="pre">SchedulerConfig</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.scheduler" title="Permalink to this definition">#</a></dt>
<dd><p>Deprecated, now specified inside the optimizers dict</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.trans_l2_penalty">
<span class="sig-name descname"><span class="pre">trans_l2_penalty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.01</span></em><a class="headerlink" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.trans_l2_penalty" title="Permalink to this definition">#</a></dt>
<dd><p>L2 penalty on translation parameters.</p>
</dd></dl>

</dd></dl>

</section>
<section id="camera-paths">
<h2>Camera Paths<a class="headerlink" href="#camera-paths" title="Permalink to this heading">#</a></h2>
<p>Code for camera paths.</p>
<span class="target" id="module-nerfstudio.cameras.camera_paths"></span><dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_paths.get_interpolated_camera_path">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_paths.</span></span><span class="sig-name descname"><span class="pre">get_interpolated_camera_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cameras</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras" title="nerfstudio.cameras.cameras.Cameras"><span class="pre">Cameras</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_poses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras" title="nerfstudio.cameras.cameras.Cameras"><span class="pre">Cameras</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_paths.html#get_interpolated_camera_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_paths.get_interpolated_camera_path" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a camera path between two cameras. Uses the camera type of the first camera</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cameras</strong> – Cameras object containing intrinsics of all cameras.</p></li>
<li><p><strong>steps</strong> – The number of steps to interpolate between the two cameras.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new set of cameras along a path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_paths.get_path_from_json">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_paths.</span></span><span class="sig-name descname"><span class="pre">get_path_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras" title="nerfstudio.cameras.cameras.Cameras"><span class="pre">Cameras</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_paths.html#get_path_from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_paths.get_path_from_json" title="Permalink to this definition">#</a></dt>
<dd><p>Takes a camera path dictionary and returns a trajectory as a Camera instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>camera_path</strong> – A dictionary of the camera path information coming from the viewer.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Cameras instance with the camera path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_paths.get_spiral_path">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_paths.</span></span><span class="sig-name descname"><span class="pre">get_spiral_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras" title="nerfstudio.cameras.cameras.Cameras"><span class="pre">Cameras</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radiuses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zrate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras" title="nerfstudio.cameras.cameras.Cameras"><span class="pre">Cameras</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_paths.html#get_spiral_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_paths.get_spiral_path" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of camera in a spiral trajectory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>camera</strong> – The camera to start the spiral from.</p></li>
<li><p><strong>steps</strong> – The number of cameras in the generated path.</p></li>
<li><p><strong>radius</strong> – The radius of the spiral for all xyz directions.</p></li>
<li><p><strong>radiuses</strong> – The list of radii for the spiral in xyz directions.</p></li>
<li><p><strong>rots</strong> – The number of rotations to apply to the camera.</p></li>
<li><p><strong>zrate</strong> – How much to change the z position of the camera.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A spiral camera path.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="camera-utils">
<h2>Camera Utils<a class="headerlink" href="#camera-utils" title="Permalink to this heading">#</a></h2>
<p>Camera transformation helper code.</p>
<span class="target" id="module-nerfstudio.cameras.camera_utils"></span><dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.auto_orient_and_center_poses">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">auto_orient_and_center_poses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_poses</span> <span class="pre">4</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'pca'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'up'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'vertical'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'none'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'up'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'poses'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'focus'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'none'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'poses'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_poses</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#auto_orient_and_center_poses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.auto_orient_and_center_poses" title="Permalink to this definition">#</a></dt>
<dd><p>Orients and centers the poses.</p>
<p>We provide three methods for orientation:</p>
<ul class="simple">
<li><dl class="simple">
<dt>pca: Orient the poses so that the principal directions of the camera centers are aligned</dt><dd><p>with the axes, Z corresponding to the smallest principal component.
This method works well when all of the cameras are in the same plane, for example when
images are taken using a mobile robot.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>up: Orient the poses so that the average up vector is aligned with the z axis.</dt><dd><p>This method works well when images are not at arbitrary angles.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>vertical: Orient the poses so that the Z 3D direction projects close to the</dt><dd><p>y axis in images. This method works better if cameras are not all
looking in the same 3D direction, which may happen in camera arrays or in LLFF.</p>
</dd>
</dl>
</li>
</ul>
<p>There are two centering methods:</p>
<ul class="simple">
<li><p>poses: The poses are centered around the origin.</p></li>
<li><dl class="simple">
<dt>focus: The origin is set to the focus of attention of all cameras (the</dt><dd><p>closest point to cameras optical axes). Recommended for inward-looking
camera configurations.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poses</strong> – The poses to orient.</p></li>
<li><p><strong>method</strong> – The method to use for orientation.</p></li>
<li><p><strong>center_method</strong> – The method to use to center the poses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of the oriented poses and the transform matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.focus_of_attention">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">focus_of_attention</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*num_poses</span> <span class="pre">4</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_focus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#focus_of_attention"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.focus_of_attention" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the focus of attention of a set of cameras. Only cameras
that have the focus of attention in front of them are considered.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>poses: The poses to orient.
initial_focus: The 3D point views to decide which cameras are initially activated.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The 3D position of the focus of attention.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.get_distortion_params">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">get_distortion_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k4</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#get_distortion_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.get_distortion_params" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a distortion parameters matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k1</strong> – The first radial distortion parameter.</p></li>
<li><p><strong>k2</strong> – The second radial distortion parameter.</p></li>
<li><p><strong>k3</strong> – The third radial distortion parameter.</p></li>
<li><p><strong>k4</strong> – The fourth radial distortion parameter.</p></li>
<li><p><strong>p1</strong> – The first tangential distortion parameter.</p></li>
<li><p><strong>p2</strong> – The second tangential distortion parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A distortion parameters matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.get_interpolated_k">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">get_interpolated_k</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k_a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#get_interpolated_k"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.get_interpolated_k" title="Permalink to this definition">#</a></dt>
<dd><p>Returns interpolated path between two camera poses with specified number of steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k_a</strong> – camera matrix 1</p></li>
<li><p><strong>k_b</strong> – camera matrix 2</p></li>
<li><p><strong>steps</strong> – number of steps the interpolated pose path should contain</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of interpolated camera poses</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.get_interpolated_poses">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">get_interpolated_poses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pose_b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#get_interpolated_poses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.get_interpolated_poses" title="Permalink to this definition">#</a></dt>
<dd><p>Return interpolation of poses with specified number of steps.
:param pose_a: first pose
:param pose_b: second pose
:param steps: number of steps the interpolated pose path should contain</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.get_interpolated_poses_many">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">get_interpolated_poses_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps_per_transition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_poses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#get_interpolated_poses_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.get_interpolated_poses_many" title="Permalink to this definition">#</a></dt>
<dd><p>Return interpolated poses for many camera poses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poses</strong> – list of camera poses</p></li>
<li><p><strong>Ks</strong> – list of camera intrinsics</p></li>
<li><p><strong>steps_per_transition</strong> – number of steps per transition</p></li>
<li><p><strong>order_poses</strong> – whether to order poses by euclidian distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple of new poses and intrinsics</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.get_interpolated_time">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">get_interpolated_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#get_interpolated_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.get_interpolated_time" title="Permalink to this definition">#</a></dt>
<dd><p>Returns interpolated time between two camera poses with specified number of steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_a</strong> – camera time 1</p></li>
<li><p><strong>time_b</strong> – camera time 2</p></li>
<li><p><strong>steps</strong> – number of steps the interpolated pose path should contain</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.get_ordered_poses_and_k_and_time">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">get_ordered_poses_and_k_and_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_poses</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#get_ordered_poses_and_k_and_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.get_ordered_poses_and_k_and_time" title="Permalink to this definition">#</a></dt>
<dd><p>Returns ordered poses and intrinsics by euclidian distance between poses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poses</strong> – list of camera poses</p></li>
<li><p><strong>Ks</strong> – list of camera intrinsics</p></li>
<li><p><strong>times</strong> – list of camera times</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple of ordered poses, intrinsics and times</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.normalize">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.normalize" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a normalized vector.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.normalize_with_norm">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">normalize_with_norm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tensor</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#normalize_with_norm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.normalize_with_norm" title="Permalink to this definition">#</a></dt>
<dd><p>Normalize tensor along axis and return normalized value with norms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – tensor to normalize.</p></li>
<li><p><strong>dim</strong> – axis along which to normalize.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of normalized tensor and corresponding norm.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.quaternion_from_matrix">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">quaternion_from_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isprecise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#quaternion_from_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.quaternion_from_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Return quaternion from rotation matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> – rotation matrix to obtain quaternion</p></li>
<li><p><strong>isprecise</strong> – if True, input matrix is assumed to be precise rotation matrix and a faster algorithm is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.quaternion_matrix">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">quaternion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quaternion</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#quaternion_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.quaternion_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Return homogeneous rotation matrix from quaternion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>quaternion</strong> – value to convert to matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.quaternion_slerp">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">quaternion_slerp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quat0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shortestpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#quaternion_slerp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.quaternion_slerp" title="Permalink to this definition">#</a></dt>
<dd><p>Return spherical linear interpolation between two quaternions.
:param quat0: first quaternion
:param quat1: second quaternion
:param fraction: how much to interpolate between quat0 vs quat1 (if 0, closer to quat0; if 1, closer to quat1)
:param spin: how much of an additional spin to place on the interpolation
:param shortestpath: whether to return the short or long path to rotation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.radial_and_tangential_undistort">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">radial_and_tangential_undistort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distortion_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#radial_and_tangential_undistort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.radial_and_tangential_undistort" title="Permalink to this definition">#</a></dt>
<dd><p>Computes undistorted coords given opencv distortion parameters.
Adapted from MultiNeRF
<a class="reference external" href="https://github.com/google-research/multinerf/blob/b02228160d3179300c7d499dca28cb9ca3677f32/internal/camera_utils.py#L477-L509">https://github.com/google-research/multinerf/blob/b02228160d3179300c7d499dca28cb9ca3677f32/internal/camera_utils.py#L477-L509</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> – The distorted coordinates.</p></li>
<li><p><strong>distortion_params</strong> – The distortion parameters [k1, k2, k3, k4, p1, p2].</p></li>
<li><p><strong>eps</strong> – The epsilon for the convergence.</p></li>
<li><p><strong>max_iterations</strong> – The maximum number of iterations to perform.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The undistorted coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.rotation_matrix_between">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">rotation_matrix_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'3</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#rotation_matrix_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.rotation_matrix_between" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the rotation matrix that rotates vector a to vector b.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – The vector to rotate.</p></li>
<li><p><strong>b</strong> – The vector to rotate to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rotation matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.unit_vector">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">unit_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">_ScalarType_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#unit_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.unit_vector" title="Permalink to this definition">#</a></dt>
<dd><p>Return ndarray normalized by length, i.e. Euclidean norm, along axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> – the axis along which to normalize into unit vector</p></li>
<li><p><strong>out</strong> – where to write out the data to. If None, returns a new np ndarray</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.camera_utils.viewmatrix">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.camera_utils.</span></span><span class="sig-name descname"><span class="pre">viewmatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lookat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/camera_utils.html#viewmatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.camera_utils.viewmatrix" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a camera transformation matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lookat</strong> – The direction the camera is looking.</p></li>
<li><p><strong>up</strong> – The upward direction of the camera.</p></li>
<li><p><strong>pos</strong> – The position of the camera.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A camera transformation matrix.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="lie-groups">
<h2>Lie Groups<a class="headerlink" href="#lie-groups" title="Permalink to this heading">#</a></h2>
<p>Helper for Lie group operations. Currently only used for pose optimization.</p>
<span class="target" id="module-nerfstudio.cameras.lie_groups"></span><dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.lie_groups.exp_map_SE3">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.lie_groups.</span></span><span class="sig-name descname"><span class="pre">exp_map_SE3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tangent_vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'b</span> <span class="pre">6'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'b</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/lie_groups.html#exp_map_SE3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.lie_groups.exp_map_SE3" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the exponential map <cite>se(3) -&gt; SE(3)</cite>.</p>
<p>This can be used for learning pose deltas on <cite>SE(3)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tangent_vector</strong> – A tangent vector from <cite>se(3)</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[R|t] transformation matrices.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nerfstudio.cameras.lie_groups.exp_map_SO3xR3">
<span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.lie_groups.</span></span><span class="sig-name descname"><span class="pre">exp_map_SO3xR3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tangent_vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'b</span> <span class="pre">6'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'b</span> <span class="pre">3</span> <span class="pre">4'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/lie_groups.html#exp_map_SO3xR3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.lie_groups.exp_map_SO3xR3" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the exponential map of the direct product group <cite>SO(3) x R^3</cite>.</p>
<p>This can be used for learning pose deltas on SE(3), and is generally faster than <cite>exp_map_SE3</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tangent_vector</strong> – Tangent vector; length-3 translations, followed by an <cite>so(3)</cite> tangent vector.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[R|t] transformation matrices.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="rays">
<h2>Rays<a class="headerlink" href="#rays" title="Permalink to this heading">#</a></h2>
<p>Some ray datastructures.</p>
<span class="target" id="module-nerfstudio.cameras.rays"></span><dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.rays.</span></span><span class="sig-name descname"><span class="pre">Frustums</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ends</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#Frustums"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="utils/tensor_dataclass.html#nerfstudio.utils.tensor_dataclass.TensorDataclass" title="nerfstudio.utils.tensor_dataclass.TensorDataclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorDataclass</span></code></a></p>
<p>Describes region of space as a frustum.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.directions">
<span class="sig-name descname"><span class="pre">directions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.directions" title="Permalink to this definition">#</a></dt>
<dd><p>Direction of ray.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.ends">
<span class="sig-name descname"><span class="pre">ends</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.ends" title="Permalink to this definition">#</a></dt>
<dd><p>Where the frustum ends along a ray.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.get_gaussian_blob">
<span class="sig-name descname"><span class="pre">get_gaussian_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="utils/math.html#nerfstudio.utils.math.Gaussians" title="nerfstudio.utils.math.Gaussians"><span class="pre">Gaussians</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#Frustums.get_gaussian_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.get_gaussian_blob" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates guassian approximation of conical frustum.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Conical frustums approximated by gaussian distribution.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.get_mock_frustum">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_mock_frustum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">device</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums" title="nerfstudio.cameras.rays.Frustums"><span class="pre">Frustums</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#Frustums.get_mock_frustum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.get_mock_frustum" title="Permalink to this definition">#</a></dt>
<dd><p>Helper function to generate a placeholder frustum.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A size 1 frustum with meaningless values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.get_positions">
<span class="sig-name descname"><span class="pre">get_positions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#Frustums.get_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.get_positions" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates “center” position of frustum. Not weighted by mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>xyz positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.get_start_positions">
<span class="sig-name descname"><span class="pre">get_start_positions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#Frustums.get_start_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.get_start_positions" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates “start” position of frustum.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>xyz positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.offsets">
<span class="sig-name descname"><span class="pre">offsets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.offsets" title="Permalink to this definition">#</a></dt>
<dd><p>Offsets for each sample position</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.origins">
<span class="sig-name descname"><span class="pre">origins</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.origins" title="Permalink to this definition">#</a></dt>
<dd><p>xyz coordinate for ray origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.pixel_area">
<span class="sig-name descname"><span class="pre">pixel_area</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.pixel_area" title="Permalink to this definition">#</a></dt>
<dd><p>Projected area of pixel a distance 1 away from origin.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.set_offsets">
<span class="sig-name descname"><span class="pre">set_offsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offsets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#Frustums.set_offsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.set_offsets" title="Permalink to this definition">#</a></dt>
<dd><p>Sets offsets for this frustum for computing positions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.Frustums.starts">
<span class="sig-name descname"><span class="pre">starts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.Frustums.starts" title="Permalink to this definition">#</a></dt>
<dd><p>Where the frustum starts along a ray.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.rays.</span></span><span class="sig-name descname"><span class="pre">RayBundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">origins:</span> <span class="pre">~jaxtyping.Float[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">3'],</span> <span class="pre">directions:</span> <span class="pre">~jaxtyping.Float[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">3'],</span> <span class="pre">pixel_area:</span> <span class="pre">~jaxtyping.Float[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">1'],</span> <span class="pre">camera_indices:</span> <span class="pre">~typing.Optional[~jaxtyping.Int[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">1']]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">nears:</span> <span class="pre">~typing.Optional[~jaxtyping.Float[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">1']]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">fars:</span> <span class="pre">~typing.Optional[~jaxtyping.Float[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">1']]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">metadata:</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">~jaxtyping.Shaped[Tensor,</span> <span class="pre">'num_rays</span> <span class="pre">latent_dims']]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">times:</span> <span class="pre">~typing.Optional[~jaxtyping.Float[Tensor,</span> <span class="pre">'*batch</span> <span class="pre">1']]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RayBundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="utils/tensor_dataclass.html#nerfstudio.utils.tensor_dataclass.TensorDataclass" title="nerfstudio.utils.tensor_dataclass.TensorDataclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorDataclass</span></code></a></p>
<p>A bundle of ray parameters.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.camera_indices">
<span class="sig-name descname"><span class="pre">camera_indices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.camera_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Camera indices</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.directions">
<span class="sig-name descname"><span class="pre">directions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.directions" title="Permalink to this definition">#</a></dt>
<dd><p>Unit ray direction vector</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.fars">
<span class="sig-name descname"><span class="pre">fars</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.fars" title="Permalink to this definition">#</a></dt>
<dd><p>Rays Distance along ray to stop sampling</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.get_ray_samples">
<span class="sig-name descname"><span class="pre">get_ray_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_starts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_ends</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing_starts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing_ends</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing_to_euclidean_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples" title="nerfstudio.cameras.rays.RaySamples"><span class="pre">RaySamples</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RayBundle.get_ray_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.get_ray_samples" title="Permalink to this definition">#</a></dt>
<dd><p>Produces samples for each ray by projection points along the ray direction. Currently samples uniformly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bin_starts</strong> – Distance from origin to start of bin.</p></li>
<li><p><strong>bin_ends</strong> – Distance from origin to end of bin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Samples projected along ray.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.get_row_major_sliced_ray_bundle">
<span class="sig-name descname"><span class="pre">get_row_major_sliced_ray_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle" title="nerfstudio.cameras.rays.RayBundle"><span class="pre">RayBundle</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RayBundle.get_row_major_sliced_ray_bundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.get_row_major_sliced_ray_bundle" title="Permalink to this definition">#</a></dt>
<dd><p>Flattens RayBundle and extracts chunk given start and end indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_idx</strong> – Start index of RayBundle chunk.</p></li>
<li><p><strong>end_idx</strong> – End index of RayBundle chunk.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Flattened RayBundle with end_idx-start_idx rays.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'num_rays</span> <span class="pre">latent_dims'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.metadata" title="Permalink to this definition">#</a></dt>
<dd><p>Additional metadata or data needed for interpolation, will mimic shape of rays</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.nears">
<span class="sig-name descname"><span class="pre">nears</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.nears" title="Permalink to this definition">#</a></dt>
<dd><p>Distance along ray to start sampling</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.origins">
<span class="sig-name descname"><span class="pre">origins</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">3'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.origins" title="Permalink to this definition">#</a></dt>
<dd><p>Ray origins (XYZ)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.pixel_area">
<span class="sig-name descname"><span class="pre">pixel_area</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.pixel_area" title="Permalink to this definition">#</a></dt>
<dd><p>Projected area of pixel a distance 1 away from origin</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_rays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle" title="nerfstudio.cameras.rays.RayBundle"><span class="pre">RayBundle</span></a></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RayBundle.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.sample" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a RayBundle as a subset of rays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_rays</strong> – Number of rays in output RayBundle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>RayBundle with subset of rays.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.set_camera_indices">
<span class="sig-name descname"><span class="pre">set_camera_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RayBundle.set_camera_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.set_camera_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Sets all the camera indices to a specific camera index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>camera_index</strong> – Camera index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RayBundle.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RayBundle.times" title="Permalink to this definition">#</a></dt>
<dd><p>Times at which rays are sampled</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nerfstudio.cameras.rays.</span></span><span class="sig-name descname"><span class="pre">RaySamples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frustums</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums" title="nerfstudio.cameras.rays.Frustums"><span class="pre">Frustums</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing_starts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing_ends</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing_to_euclidean_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">latent_dims'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RaySamples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="utils/tensor_dataclass.html#nerfstudio.utils.tensor_dataclass.TensorDataclass" title="nerfstudio.utils.tensor_dataclass.TensorDataclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorDataclass</span></code></a></p>
<p>Samples along a ray</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.camera_indices">
<span class="sig-name descname"><span class="pre">camera_indices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Int</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.camera_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Camera index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.deltas">
<span class="sig-name descname"><span class="pre">deltas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.deltas" title="Permalink to this definition">#</a></dt>
<dd><p>“width” of each sample.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.frustums">
<span class="sig-name descname"><span class="pre">frustums</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums" title="nerfstudio.cameras.rays.Frustums"><span class="pre">Frustums</span></a></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.frustums" title="Permalink to this definition">#</a></dt>
<dd><p>Frustums along ray.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.get_weights">
<span class="sig-name descname"><span class="pre">get_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">densities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RaySamples.get_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.get_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Return weights based on predicted densities</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>densities</strong> – Predicted densities for samples along ray</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Weights for each sample</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.get_weights_and_transmittance_from_alphas">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_weights_and_transmittance_from_alphas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alphas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/nerfstudio/cameras/rays.html#RaySamples.get_weights_and_transmittance_from_alphas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.get_weights_and_transmittance_from_alphas" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object py">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_weights_and_transmittance_from_alphas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alphas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">False</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Return weights based on predicted alphas
:param alphas: Predicted alphas (maybe from sdf) for samples along ray
:param weights_only: If function should return only weights</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple of weights and transmittance for each sample</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Shaped</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">latent_dims'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.metadata" title="Permalink to this definition">#</a></dt>
<dd><p>additional information relevant to generating ray samples</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.spacing_ends">
<span class="sig-name descname"><span class="pre">spacing_ends</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.spacing_ends" title="Permalink to this definition">#</a></dt>
<dd><p>Start of normalized bin edges along ray [0,1], before warping is applied, ie. linear in disparity sampling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.spacing_starts">
<span class="sig-name descname"><span class="pre">spacing_starts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*bs</span> <span class="pre">num_samples</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.spacing_starts" title="Permalink to this definition">#</a></dt>
<dd><p>Start of normalized bin edges along ray [0,1], before warping is applied, ie. linear in disparity sampling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.spacing_to_euclidean_fn">
<span class="sig-name descname"><span class="pre">spacing_to_euclidean_fn</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.spacing_to_euclidean_fn" title="Permalink to this definition">#</a></dt>
<dd><p>Function to convert bins to euclidean distance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nerfstudio.cameras.rays.RaySamples.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Float</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'*batch</span> <span class="pre">1'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nerfstudio.cameras.rays.RaySamples.times" title="Permalink to this definition">#</a></dt>
<dd><p>Times at which rays are sampled</p>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="config.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Configs</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">API</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, nerfstudio Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Cameras</a><ul>
<li><a class="reference internal" href="#id2">Cameras</a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.CameraType"><code class="docutils literal notranslate"><span class="pre">CameraType</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras"><code class="docutils literal notranslate"><span class="pre">Cameras</span></code></a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.device"><code class="docutils literal notranslate"><span class="pre">Cameras.device</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.generate_rays"><code class="docutils literal notranslate"><span class="pre">Cameras.generate_rays()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.get_image_coords"><code class="docutils literal notranslate"><span class="pre">Cameras.get_image_coords()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.get_intrinsics_matrices"><code class="docutils literal notranslate"><span class="pre">Cameras.get_intrinsics_matrices()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.image_height"><code class="docutils literal notranslate"><span class="pre">Cameras.image_height</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.image_width"><code class="docutils literal notranslate"><span class="pre">Cameras.image_width</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.is_jagged"><code class="docutils literal notranslate"><span class="pre">Cameras.is_jagged</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.rescale_output_resolution"><code class="docutils literal notranslate"><span class="pre">Cameras.rescale_output_resolution()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.to_json"><code class="docutils literal notranslate"><span class="pre">Cameras.to_json()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.cameras.Cameras.update_tiling_intrinsics"><code class="docutils literal notranslate"><span class="pre">Cameras.update_tiling_intrinsics()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#camera-optimizers">Camera Optimizers</a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer</span></code></a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.apply_to_camera"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.apply_to_camera()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.apply_to_raybundle"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.apply_to_raybundle()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.forward"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.forward()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_correction_matrices"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.get_correction_matrices()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_loss_dict"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.get_loss_dict()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_metrics_dict"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.get_metrics_dict()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizer.get_param_groups"><code class="docutils literal notranslate"><span class="pre">CameraOptimizer.get_param_groups()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig"><code class="docutils literal notranslate"><span class="pre">CameraOptimizerConfig</span></code></a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.mode"><code class="docutils literal notranslate"><span class="pre">CameraOptimizerConfig.mode</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.optimizer"><code class="docutils literal notranslate"><span class="pre">CameraOptimizerConfig.optimizer</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.rot_l2_penalty"><code class="docutils literal notranslate"><span class="pre">CameraOptimizerConfig.rot_l2_penalty</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.scheduler"><code class="docutils literal notranslate"><span class="pre">CameraOptimizerConfig.scheduler</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_optimizers.CameraOptimizerConfig.trans_l2_penalty"><code class="docutils literal notranslate"><span class="pre">CameraOptimizerConfig.trans_l2_penalty</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#camera-paths">Camera Paths</a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_paths.get_interpolated_camera_path"><code class="docutils literal notranslate"><span class="pre">get_interpolated_camera_path()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_paths.get_path_from_json"><code class="docutils literal notranslate"><span class="pre">get_path_from_json()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_paths.get_spiral_path"><code class="docutils literal notranslate"><span class="pre">get_spiral_path()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#camera-utils">Camera Utils</a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.auto_orient_and_center_poses"><code class="docutils literal notranslate"><span class="pre">auto_orient_and_center_poses()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.focus_of_attention"><code class="docutils literal notranslate"><span class="pre">focus_of_attention()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.get_distortion_params"><code class="docutils literal notranslate"><span class="pre">get_distortion_params()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.get_interpolated_k"><code class="docutils literal notranslate"><span class="pre">get_interpolated_k()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.get_interpolated_poses"><code class="docutils literal notranslate"><span class="pre">get_interpolated_poses()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.get_interpolated_poses_many"><code class="docutils literal notranslate"><span class="pre">get_interpolated_poses_many()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.get_interpolated_time"><code class="docutils literal notranslate"><span class="pre">get_interpolated_time()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.get_ordered_poses_and_k_and_time"><code class="docutils literal notranslate"><span class="pre">get_ordered_poses_and_k_and_time()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.normalize"><code class="docutils literal notranslate"><span class="pre">normalize()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.normalize_with_norm"><code class="docutils literal notranslate"><span class="pre">normalize_with_norm()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.quaternion_from_matrix"><code class="docutils literal notranslate"><span class="pre">quaternion_from_matrix()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.quaternion_matrix"><code class="docutils literal notranslate"><span class="pre">quaternion_matrix()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.quaternion_slerp"><code class="docutils literal notranslate"><span class="pre">quaternion_slerp()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.radial_and_tangential_undistort"><code class="docutils literal notranslate"><span class="pre">radial_and_tangential_undistort()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.rotation_matrix_between"><code class="docutils literal notranslate"><span class="pre">rotation_matrix_between()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.unit_vector"><code class="docutils literal notranslate"><span class="pre">unit_vector()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.camera_utils.viewmatrix"><code class="docutils literal notranslate"><span class="pre">viewmatrix()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#lie-groups">Lie Groups</a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.lie_groups.exp_map_SE3"><code class="docutils literal notranslate"><span class="pre">exp_map_SE3()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.lie_groups.exp_map_SO3xR3"><code class="docutils literal notranslate"><span class="pre">exp_map_SO3xR3()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#rays">Rays</a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums"><code class="docutils literal notranslate"><span class="pre">Frustums</span></code></a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.directions"><code class="docutils literal notranslate"><span class="pre">Frustums.directions</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.ends"><code class="docutils literal notranslate"><span class="pre">Frustums.ends</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.get_gaussian_blob"><code class="docutils literal notranslate"><span class="pre">Frustums.get_gaussian_blob()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.get_mock_frustum"><code class="docutils literal notranslate"><span class="pre">Frustums.get_mock_frustum()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.get_positions"><code class="docutils literal notranslate"><span class="pre">Frustums.get_positions()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.get_start_positions"><code class="docutils literal notranslate"><span class="pre">Frustums.get_start_positions()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.offsets"><code class="docutils literal notranslate"><span class="pre">Frustums.offsets</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.origins"><code class="docutils literal notranslate"><span class="pre">Frustums.origins</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.pixel_area"><code class="docutils literal notranslate"><span class="pre">Frustums.pixel_area</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.set_offsets"><code class="docutils literal notranslate"><span class="pre">Frustums.set_offsets()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.Frustums.starts"><code class="docutils literal notranslate"><span class="pre">Frustums.starts</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle"><code class="docutils literal notranslate"><span class="pre">RayBundle</span></code></a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.camera_indices"><code class="docutils literal notranslate"><span class="pre">RayBundle.camera_indices</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.directions"><code class="docutils literal notranslate"><span class="pre">RayBundle.directions</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.fars"><code class="docutils literal notranslate"><span class="pre">RayBundle.fars</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.get_ray_samples"><code class="docutils literal notranslate"><span class="pre">RayBundle.get_ray_samples()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.get_row_major_sliced_ray_bundle"><code class="docutils literal notranslate"><span class="pre">RayBundle.get_row_major_sliced_ray_bundle()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.metadata"><code class="docutils literal notranslate"><span class="pre">RayBundle.metadata</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.nears"><code class="docutils literal notranslate"><span class="pre">RayBundle.nears</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.origins"><code class="docutils literal notranslate"><span class="pre">RayBundle.origins</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.pixel_area"><code class="docutils literal notranslate"><span class="pre">RayBundle.pixel_area</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.sample"><code class="docutils literal notranslate"><span class="pre">RayBundle.sample()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.set_camera_indices"><code class="docutils literal notranslate"><span class="pre">RayBundle.set_camera_indices()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RayBundle.times"><code class="docutils literal notranslate"><span class="pre">RayBundle.times</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples"><code class="docutils literal notranslate"><span class="pre">RaySamples</span></code></a><ul>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.camera_indices"><code class="docutils literal notranslate"><span class="pre">RaySamples.camera_indices</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.deltas"><code class="docutils literal notranslate"><span class="pre">RaySamples.deltas</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.frustums"><code class="docutils literal notranslate"><span class="pre">RaySamples.frustums</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.get_weights"><code class="docutils literal notranslate"><span class="pre">RaySamples.get_weights()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.get_weights_and_transmittance_from_alphas"><code class="docutils literal notranslate"><span class="pre">RaySamples.get_weights_and_transmittance_from_alphas()</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.metadata"><code class="docutils literal notranslate"><span class="pre">RaySamples.metadata</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.spacing_ends"><code class="docutils literal notranslate"><span class="pre">RaySamples.spacing_ends</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.spacing_starts"><code class="docutils literal notranslate"><span class="pre">RaySamples.spacing_starts</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.spacing_to_euclidean_fn"><code class="docutils literal notranslate"><span class="pre">RaySamples.spacing_to_euclidean_fn</span></code></a></li>
<li><a class="reference internal" href="#nerfstudio.cameras.rays.RaySamples.times"><code class="docutils literal notranslate"><span class="pre">RaySamples.times</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div></body>

</html>